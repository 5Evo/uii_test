<h2>Описание выполнения тестового задания.</h2>

<b>Задача в проекте:</b>
классифицировать тексты Zoom встреч (зум) монологов клиент/менеджер с точностью более 98%.
Монологи - 2х канальная аудио запись одного диалога. 1 канал - клиент, 2 канал - менеджер.

<b>Выполнение:</b>
1. Разработано Flask-приложение для автоматизации разметки данных
   - Установите зависимости из файла Requirements.txt
   - в файле settigs.py укажите путь к файлам с данными
   -  Запустите maim.py. В браузере (навигация инуитивно понятна) проверьте все данные. После проверки данные из df конвертируются в CSV-файл и автоматически сохранятся в базовой директории

2. Обучение ChatGPT распознаванию роли
   - Промты находятся в отдельной папке promts
   1. Прямой запрос на определение Роли
      - промт с прямой задачей по определению роли выдает в тесте точность 81-82% (лучший результат у promt3.txt)
      - Время обработки запроса - 1-2 секунды, для обхода ограничения в лимите RPM установлена периодичность нового запроса 1 раз в 5 секунд
   
   2. Стилистика речи.
      Прямой запрос не дал нужной точности, т.к. в некоторых текстах даже человеку сложно определить Роль. Поэтому вторым этапом был анализ особенностей речи:
      - с помошью промта проанализировал особенности построения речи в каждом диалоге. Выяснилось, что характерными признаками могут быть количество употреблений профессиональных терминов, личных местоимений (когда клиент говорит больше о себе, а менеджер о клиенте, а также наличие в речи слов-паразитов)
      - Анализ стиля речи показал, что можно выделить крайние точки распределения частоты слов, характерных только для Клиента или только для Менеджера, но анализ стиля речи также не дает высокой точности
   
   3. Наиболее перспективным видится совмещение нескольких методов определенеия Роли:
      На каждом шаге с помощью отдельного Промта мы выделяем особенности, которые нам с большой достоверностью говорят о Роли говорящего. На каждый следующий этап передаем только те монологи, которые еще не сумели определить с высокой точностью
      - сначала с помошью Промта "promt_introduce.txt" определяем наличие в текстах представление говорящего как менеджера Университета. Такой анализ дает необходимую высокую точность определения Менеджера (порядка 96%, с небольшой доработкой Промта для выделения на этом этапе студентов точность повысится до необходимых 98%-99%). Но покрытие таким тестом около 40% монологов. Остальные - либо вторая половина монолога Менеджера, либо Клиент.
      - (доработанный promt_introduce2.txt позволяет выделять не только менеджера, когда он представляется, но и клиента, если он говорит о том, что является студентом УИИ или работает в другой организации и в другой професии)
      - вторым шагом - идет определение речевых особенностей в тех монологах, которые пока не распознались как Менеджер на предыдущем этапе. (на момент написания отчета еще идет обработка и тестирования этой задачи)
      - третьим шагом на оставшейся без определения Роли выборке мы запускаем ПРОМТ с определением Роли по контексту.  

Вывод по результатам тестового задания:
Мне не удалось уложиться в отведенные сроки и достичь целевой точности в 98%. Причина - слишком фундаментальный подход к задаче, и разработка фреймворка для разметки данных.
Время на обработку каждого монолога - не больше 5 секунд с учетом таймслипа для обхождения лимита RPM. 
Расходы на OPENAI на стадии разработки и тестирования Промтов составили порядка 60$, стоимость 1 запроса на определение Роли - примерно 1,5 рубля, но для для Продакшена можно сокращать за счет использования модели 4K, для чего придется обрезать монологи. На точность это не повлияет при условии, что монолог будет единым и начало монолога будет доступно для анализа. 
Достигнутая точность - 82%, работы по увеличению точности и применению нескольких алгоритмов дают позитивные изменения.
Однако для получения наиболее точного результата я бы предложил изменить постановку задачи:
1. не резать монолог на 2 части, а склеить их в единый монолог (как минимум привязать продолжение монолога к его началу)
2. рассматривать 2 монолога клиента и менеждера вместе - таким образом повысится точность определения Ролей

